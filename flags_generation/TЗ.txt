Задание на компьютере «Флаги».

Теория:

http://al.cs.msu.ru/static/classes/NumberRepresent.pdf

http://al.cs.msu.ru/static/gratsianova/theory.rtf

Пильщиков Assembler стр. 11-15, 47-52

Назначение программы: показать, как в ЭВМ представляются числа, как происходят арифметические операции.

Задание состоит из двух частей. Первая часть - для всех, вторая - по желанию, на оценку выше "3".

Часть 1.

Общие требования: строго регламентированный ввод и вывод - компьютерная проверка. Можно пользоваться любыми средствами турбо-паскаля, графикой и т.п. (только слишком активно  Goto не использовать). Основные арифметические процедуры писать самостоятельно, библиотечными не пользоваться (перевод чисел из одной системы счисления в другую, установка флагов и т.п.).

Входной файл (TEXT).

Строки, в каждой из которых содержится три целых числа, разделенные пробелом. Первое число - 2..16, два другие - любые целые (в том числе отрицательные). Первое число - столько бит отводится для записи числа, два другие числа - операнды арифметических операций.

Задание. Произвести над введенными числами арифметические операции: сложение и вычитание, смоделировать, как эти операции будут происходить в АЛУ компьютера с заданным размером ячейки. Вывести результат в двоичном,  десятичном знаковом и беззнаковом виде, флаги и пояснения, верен ли результат операции.

              

Выходной файл (TEXT). Правильность этого файла будет проверяться автоматически, поэтому надо строго соблюдать формат выдачи.

Если одно из пары чисел не умещается в ячейке заданного размера, сообщение об этом печатается на экране, а в файл никакая информация об этой тройке не попадает.

Если оба числа помещаются в ячейке, то строке входного файла соответствует следующая группа строк

1. введенные числа через 1 пробел (повторяется строка из входного файла).

 2. Знак +, пробел, числа в двоичном представлении, результат операции сложения двоичный (содержимое ячейки) - все через два пробела, результат операции сложения в десятичном виде беззнаковый, результат операции сложения в десятичном виде знаковый, 2 пробела, флаги в порядке ZF SF CF OF без пробелов. Десятичные числа выводятся в формате - под число отводится столько позиций, какова разрядность ячейки.

3. Знак -, пробел, далее все то же самое, что и для сложения, только для вычитания

4. Пустая строка

Работа программы

1.Пользователя просят ввести имя входного и выходного файла (полное, с расширением). Файлы будут находиться в той же директории, что и программа.

2. Программа обрабатывает все строки входного файла, выводя информацию в выходной файл и на экран.

3. На экран для каждой строки выводится заданное в строке количество бит, сумма и разность чисел в десятичном знаковом и беззнаковом виде и сообщение о правильности этих результатов. Сообщения должны быть короткими, но понятными. Вывод должен быть компактны, для этого можно пользоваться всевозможными средствами. Например: если результат операции правильный, равенство можно вывести зеленым цветом, если неправильный - красным. Правильность вывода на экран будет проверяться визуально, можно позволить некоторые вольности, текст, значки и т.п.

Если введенные числа не помещаются в ячейку, на экране печатается сообщение об этом и диапазон чисел, которые в заданную ячейку помещаются

4. Считаем, что во входном файле содержатся только числа, причем они записаны правильно (в каждой строке по 3 числа через пробел, первое число точно в диапазоне 2..16). Про числа-операнды известно, что они целые, и в 16 бит каждое помещается (т.е. ввести его как число в Паскале можно, посимвольный ввод не нужен.

Пример

На входе

4 1000 1

4 8 1

8 -50 250

На выходе (в файле)

4  8  1
+ 1000  0001  1001   9  -7  0100 
- 1000  0001  0111   7   7  0001 
<пустая строка>
8 -50 250

+ 11001110  11111010  11001000     200     -56  0110
- 11001110  11111010  11010100     212     -44  0110

<пустая строка>

На экране (пример, строгих правил нет)

4   ОШИБКА 1000 не помещается в диапазон -8..15

4   8+1=9  -8+1=-7   8-1=7      -8-1=7

8 206+250=200     (-50)+(-6)=-56   206-250=212   (-50)-(-6)=-44

Это обязательная часть - на "3". Флаги должны вычисляться правильно!!!